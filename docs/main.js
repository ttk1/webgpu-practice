(()=>{"use strict";const e={original:()=>{return e=void 0,t=void 0,o=function*(){console.log("hello, world!");const e=document.body.appendChild(document.createElement("canvas"));e.width=500,e.height=500;const t=e.getContext("webgpu"),n=yield navigator.gpu.requestAdapter(),o=yield n.requestDevice(),r=o.createShaderModule({code:"\nstruct VertexOut {\n  @builtin(position) position : vec4f,\n  @location(0) color : vec4f\n}\n\n@vertex\nfn vertex_main(@location(0) position: vec4f,\n               @location(1) color: vec4f) -> VertexOut\n{\n  var output : VertexOut;\n  output.position = position;\n  output.color = color;\n  return output;\n}\n\n@fragment\nfn fragment_main(fragData: VertexOut) -> @location(0) vec4f\n{\n  return fragData.color;\n}\n"});t.configure({device:o,format:navigator.gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"});const a=new Float32Array([0,.6,0,1,1,0,0,1,-.5,-.6,0,1,0,1,0,1,.5,-.6,0,1,0,0,1,1]),i=o.createBuffer({size:a.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});o.queue.writeBuffer(i,0,a,0,a.length);const u={vertex:{module:r,entryPoint:"vertex_main",buffers:[{attributes:[{shaderLocation:0,offset:0,format:"float32x4"},{shaderLocation:1,offset:16,format:"float32x4"}],arrayStride:32,stepMode:"vertex"}]},fragment:{module:r,entryPoint:"fragment_main",targets:[{format:navigator.gpu.getPreferredCanvasFormat()}]},primitive:{topology:"triangle-list"},layout:"auto"},c=o.createRenderPipeline(u),f=o.createCommandEncoder(),l={colorAttachments:[{clearValue:{r:0,g:.5,b:1,a:1},loadOp:"clear",storeOp:"store",view:t.getCurrentTexture().createView()}]},s=f.beginRenderPass(l);s.setPipeline(c),s.setVertexBuffer(0,i),s.draw(3),s.end(),o.queue.submit([f.finish()])},new((n=void 0)||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function u(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((o=o.apply(e,t||[])).next())}));var e,t,n,o},demo01:()=>{return e=void 0,t=void 0,o=function*(){console.log("hello, world!");const e=document.body.appendChild(document.createElement("canvas"));e.width=500,e.height=500;const t=e.getContext("webgpu"),n=yield navigator.gpu.requestAdapter(),o=yield n.requestDevice(),r=o.createShaderModule({code:"\nstruct VertexOut {\n  @builtin(position) position : vec4f,\n  @location(0) color : vec4f\n}\n\n@vertex\nfn vertex_main(@location(0) position: vec4f,\n               @location(1) color: vec4f) -> VertexOut\n{\n  var output : VertexOut;\n  output.position = vec4(position.xyz * 0.5, position.w);\n  output.color = color;\n  return output;\n}\n\n@fragment\nfn fragment_main(fragData: VertexOut) -> @location(0) vec4f\n{\n  return fragData.color;\n}\n"});t.configure({device:o,format:navigator.gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"});const a=new Float32Array([0,1,0,1,1,-1,0,1,-1,-1,0,1]),i=o.createBuffer({size:a.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});o.queue.writeBuffer(i,0,a,0,a.length);const u=new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1]),c=o.createBuffer({size:u.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});o.queue.writeBuffer(c,0,u,0,u.length);const f={vertex:{module:r,entryPoint:"vertex_main",buffers:[{attributes:[{shaderLocation:0,offset:0,format:"float32x4"}],arrayStride:16,stepMode:"vertex"},{attributes:[{shaderLocation:1,offset:0,format:"float32x4"}],arrayStride:16,stepMode:"vertex"}]},fragment:{module:r,entryPoint:"fragment_main",targets:[{format:navigator.gpu.getPreferredCanvasFormat()}]},primitive:{topology:"triangle-list"},layout:"auto"},l=o.createRenderPipeline(f),s=o.createCommandEncoder(),d={colorAttachments:[{clearValue:{r:0,g:0,b:0,a:1},loadOp:"clear",storeOp:"store",view:t.getCurrentTexture().createView()}]},g=s.beginRenderPass(d);g.setPipeline(l),g.setVertexBuffer(0,i),g.setVertexBuffer(1,c),g.draw(3),g.end(),o.queue.submit([s.finish()])},new((n=void 0)||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function u(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((o=o.apply(e,t||[])).next())}));var e,t,n,o}};function t(){const t=document.body.appendChild(document.createElement("ul"));for(const n in e){const e=t.appendChild(document.createElement("li")).appendChild(document.createElement("a"));e.href="./index.html?page="+n,e.textContent=n}}window.onload=()=>{return n=void 0,o=void 0,a=function*(){(e[new URL(window.location.href).searchParams.get("page")]||t)()},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{c(a.next(e))}catch(e){t(e)}}function u(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,u)}c((a=a.apply(n,o||[])).next())}));var n,o,r,a}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUc3QyxHQUMvQjBDLEVBQVlHLGdCQUFnQixFQUFHTyxHQUMvQlYsRUFBWUksS0FBSyxHQUNqQkosRUFBWUssTUFFWjFELEVBQU9tQixNQUFNd0MsT0FBTyxDQUFDcEIsRUFBZXFCLFVBQ3RDLEUsWUF0STBCLEssNlFBc0l6QixHSGhJRCxTQUFTSSxJQUNQLE1BQU1DLEVBQUs3RSxTQUFTQyxLQUFLQyxZQUFZRixTQUFTRyxjQUFjLE9BQzVELElBQUssTUFBTTJFLEtBQVFuRixFQUFPLENBQ3hCLE1BQU1nRSxFQUFJa0IsRUFBRzNFLFlBQVlGLFNBQVNHLGNBQWMsT0FBT0QsWUFBWUYsU0FBU0csY0FBYyxNQUMxRndELEVBQUVvQixLQUFPLHFCQUF1QkQsRUFDaENuQixFQUFFcUIsWUFBY0YsQyxDQUVwQixDQUVBRyxPQUFPQyxPQUFTLEtBQVksTyxPQUFBLEUsT0FBQSxFLEVBQUEsYUFDekJ2RixFQUFNLElBQUl3RixJQUFJRixPQUFPRyxTQUFTTCxNQUFNTSxhQUFhQyxJQUFJLFVBQVlWLElBQ3BFLEUsWUFGNEIsSyw2UUFFM0IsQyIsInNvdXJjZXMiOlsid2VicGFjazovL0B0dGsxL3dlYmdwdS1wcmFjdGljZS8uL3NyYy9tYWluLnRzIiwid2VicGFjazovL0B0dGsxL3dlYmdwdS1wcmFjdGljZS8uL3NyYy9vcmlnaW5hbC9tYWluLnRzIiwid2VicGFjazovL0B0dGsxL3dlYmdwdS1wcmFjdGljZS8uL3NyYy9vcmlnaW5hbC9zaGFkZXIud2dzbC50cyIsIndlYnBhY2s6Ly9AdHRrMS93ZWJncHUtcHJhY3RpY2UvLi9zcmMvZGVtbzAxL21haW4udHMiLCJ3ZWJwYWNrOi8vQHR0azEvd2ViZ3B1LXByYWN0aWNlLy4vc3JjL2RlbW8wMS9zaGFkZXIud2dzbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVtbzAxIGZyb20gJy4vZGVtbzAxL21haW4nO1xuaW1wb3J0IG9yaWdpbmFsIGZyb20gJy4vb3JpZ2luYWwvbWFpbic7XG5cbmNvbnN0IHBhZ2VzID0ge1xuICBvcmlnaW5hbDogb3JpZ2luYWwsXG4gIGRlbW8wMTogZGVtbzAxLFxufTtcblxuZnVuY3Rpb24gaW5kZXgoKSB7XG4gIGNvbnN0IHVsID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpKTtcbiAgZm9yIChjb25zdCBwYWdlIGluIHBhZ2VzKSB7XG4gICAgY29uc3QgYSA9IHVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJykpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKSk7XG4gICAgYS5ocmVmID0gJy4vaW5kZXguaHRtbD9wYWdlPScgKyBwYWdlO1xuICAgIGEudGV4dENvbnRlbnQgPSBwYWdlO1xuICB9XG59XG5cbndpbmRvdy5vbmxvYWQgPSBhc3luYyAoKSA9PiB7XG4gIChwYWdlc1tuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKS5zZWFyY2hQYXJhbXMuZ2V0KCdwYWdlJyldIHx8IGluZGV4KSgpO1xufTtcbiIsImltcG9ydCBzaGFkZXIgZnJvbSAnLi9zaGFkZXIud2dzbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jICgpID0+IHtcbiAgY29uc29sZS5sb2coJ2hlbGxvLCB3b3JsZCEnKTtcblxuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHUFVfQVBJI2Jhc2ljX3JlbmRlcl9waXBlbGluZVxuXG4gIGNvbnN0IGN2cyA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xuICBjdnMud2lkdGggPSA1MDA7XG4gIGN2cy5oZWlnaHQgPSA1MDA7XG5cbiAgY29uc3QgY3R4ID0gY3ZzLmdldENvbnRleHQoJ3dlYmdwdScpO1xuXG4gIGNvbnN0IGFkYXB0ZXIgPSBhd2FpdCBuYXZpZ2F0b3IuZ3B1LnJlcXVlc3RBZGFwdGVyKCk7XG4gIGNvbnN0IGRldmljZSA9IGF3YWl0IGFkYXB0ZXIucmVxdWVzdERldmljZSgpO1xuXG4gIGNvbnN0IHNoYWRlck1vZHVsZSA9IGRldmljZS5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgIGNvZGU6IHNoYWRlcixcbiAgfSk7XG5cbiAgY3R4LmNvbmZpZ3VyZSh7XG4gICAgZGV2aWNlOiBkZXZpY2UsXG4gICAgZm9ybWF0OiBuYXZpZ2F0b3IuZ3B1LmdldFByZWZlcnJlZENhbnZhc0Zvcm1hdCgpLFxuICAgIGFscGhhTW9kZTogJ3ByZW11bHRpcGxpZWQnLFxuICB9KTtcblxuICBjb25zdCB2ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgIDAuMCwgMC42LCAwLCAxLCAxLCAwLCAwLCAxLCAtMC41LCAtMC42LCAwLCAxLCAwLCAxLCAwLCAxLCAwLjUsIC0wLjYsIDAsIDEsIDAsXG4gICAgMCwgMSwgMSxcbiAgXSk7XG5cbiAgY29uc3QgdmVydGV4QnVmZmVyID0gZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7XG4gICAgc2l6ZTogdmVydGljZXMuYnl0ZUxlbmd0aCwgLy8gbWFrZSBpdCBiaWcgZW5vdWdoIHRvIHN0b3JlIHZlcnRpY2VzIGluXG4gICAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlLlZFUlRFWCB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNULFxuICB9KTtcblxuICBkZXZpY2UucXVldWUud3JpdGVCdWZmZXIodmVydGV4QnVmZmVyLCAwLCB2ZXJ0aWNlcywgMCwgdmVydGljZXMubGVuZ3RoKTtcblxuICBjb25zdCB2ZXJ0ZXhCdWZmZXJzOiBHUFVWZXJ0ZXhCdWZmZXJMYXlvdXRbXSA9IFtcbiAgICB7XG4gICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzaGFkZXJMb2NhdGlvbjogMCwgLy8gcG9zaXRpb25cbiAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgZm9ybWF0OiAnZmxvYXQzMng0JyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHNoYWRlckxvY2F0aW9uOiAxLCAvLyBjb2xvclxuICAgICAgICAgIG9mZnNldDogMTYsXG4gICAgICAgICAgZm9ybWF0OiAnZmxvYXQzMng0JyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBhcnJheVN0cmlkZTogMzIsXG4gICAgICBzdGVwTW9kZTogJ3ZlcnRleCcsXG4gICAgfSxcbiAgXTtcblxuICBjb25zdCBwaXBlbGluZURlc2NyaXB0b3I6IEdQVVJlbmRlclBpcGVsaW5lRGVzY3JpcHRvciA9IHtcbiAgICB2ZXJ0ZXg6IHtcbiAgICAgIG1vZHVsZTogc2hhZGVyTW9kdWxlLFxuICAgICAgZW50cnlQb2ludDogJ3ZlcnRleF9tYWluJyxcbiAgICAgIGJ1ZmZlcnM6IHZlcnRleEJ1ZmZlcnMsXG4gICAgfSxcbiAgICBmcmFnbWVudDoge1xuICAgICAgbW9kdWxlOiBzaGFkZXJNb2R1bGUsXG4gICAgICBlbnRyeVBvaW50OiAnZnJhZ21lbnRfbWFpbicsXG4gICAgICB0YXJnZXRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBmb3JtYXQ6IG5hdmlnYXRvci5ncHUuZ2V0UHJlZmVycmVkQ2FudmFzRm9ybWF0KCksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgcHJpbWl0aXZlOiB7XG4gICAgICB0b3BvbG9neTogJ3RyaWFuZ2xlLWxpc3QnLFxuICAgIH0sXG4gICAgbGF5b3V0OiAnYXV0bycsXG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUGlwZWxpbmUgPSBkZXZpY2UuY3JlYXRlUmVuZGVyUGlwZWxpbmUocGlwZWxpbmVEZXNjcmlwdG9yKTtcblxuICBjb25zdCBjb21tYW5kRW5jb2RlciA9IGRldmljZS5jcmVhdGVDb21tYW5kRW5jb2RlcigpO1xuXG4gIGNvbnN0IGNsZWFyQ29sb3IgPSB7IHI6IDAuMCwgZzogMC41LCBiOiAxLjAsIGE6IDEuMCB9O1xuXG4gIGNvbnN0IHJlbmRlclBhc3NEZXNjcmlwdG9yOiBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvciA9IHtcbiAgICBjb2xvckF0dGFjaG1lbnRzOiBbXG4gICAgICB7XG4gICAgICAgIGNsZWFyVmFsdWU6IGNsZWFyQ29sb3IsXG4gICAgICAgIGxvYWRPcDogJ2NsZWFyJyxcbiAgICAgICAgc3RvcmVPcDogJ3N0b3JlJyxcbiAgICAgICAgdmlldzogY3R4LmdldEN1cnJlbnRUZXh0dXJlKCkuY3JlYXRlVmlldygpLFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuXG4gIGNvbnN0IHBhc3NFbmNvZGVyID0gY29tbWFuZEVuY29kZXIuYmVnaW5SZW5kZXJQYXNzKHJlbmRlclBhc3NEZXNjcmlwdG9yKTtcblxuICBwYXNzRW5jb2Rlci5zZXRQaXBlbGluZShyZW5kZXJQaXBlbGluZSk7XG4gIHBhc3NFbmNvZGVyLnNldFZlcnRleEJ1ZmZlcigwLCB2ZXJ0ZXhCdWZmZXIpO1xuICBwYXNzRW5jb2Rlci5kcmF3KDMpO1xuXG4gIHBhc3NFbmNvZGVyLmVuZCgpO1xuXG4gIGRldmljZS5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRFbmNvZGVyLmZpbmlzaCgpXSk7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgYFxuc3RydWN0IFZlcnRleE91dCB7XG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbiA6IHZlYzRmLFxuICBAbG9jYXRpb24oMCkgY29sb3IgOiB2ZWM0ZlxufVxuXG5AdmVydGV4XG5mbiB2ZXJ0ZXhfbWFpbihAbG9jYXRpb24oMCkgcG9zaXRpb246IHZlYzRmLFxuICAgICAgICAgICAgICAgQGxvY2F0aW9uKDEpIGNvbG9yOiB2ZWM0ZikgLT4gVmVydGV4T3V0XG57XG4gIHZhciBvdXRwdXQgOiBWZXJ0ZXhPdXQ7XG4gIG91dHB1dC5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICBvdXRwdXQuY29sb3IgPSBjb2xvcjtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuQGZyYWdtZW50XG5mbiBmcmFnbWVudF9tYWluKGZyYWdEYXRhOiBWZXJ0ZXhPdXQpIC0+IEBsb2NhdGlvbigwKSB2ZWM0Zlxue1xuICByZXR1cm4gZnJhZ0RhdGEuY29sb3I7XG59XG5gO1xuIiwiaW1wb3J0IHNoYWRlciBmcm9tICcuL3NoYWRlci53Z3NsJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnaGVsbG8sIHdvcmxkIScpO1xuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHUFVfQVBJI2Jhc2ljX3JlbmRlcl9waXBlbGluZVxuXG4gIGNvbnN0IGN2cyA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xuICBjdnMud2lkdGggPSA1MDA7XG4gIGN2cy5oZWlnaHQgPSA1MDA7XG5cbiAgY29uc3QgY3R4ID0gY3ZzLmdldENvbnRleHQoJ3dlYmdwdScpO1xuXG4gIGNvbnN0IGFkYXB0ZXIgPSBhd2FpdCBuYXZpZ2F0b3IuZ3B1LnJlcXVlc3RBZGFwdGVyKCk7XG4gIGNvbnN0IGRldmljZSA9IGF3YWl0IGFkYXB0ZXIucmVxdWVzdERldmljZSgpO1xuXG4gIGNvbnN0IHNoYWRlck1vZHVsZSA9IGRldmljZS5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgIGNvZGU6IHNoYWRlcixcbiAgfSk7XG5cbiAgY3R4LmNvbmZpZ3VyZSh7XG4gICAgZGV2aWNlOiBkZXZpY2UsXG4gICAgZm9ybWF0OiBuYXZpZ2F0b3IuZ3B1LmdldFByZWZlcnJlZENhbnZhc0Zvcm1hdCgpLFxuICAgIGFscGhhTW9kZTogJ3ByZW11bHRpcGxpZWQnLFxuICB9KTtcblxuXG4gIC8vIOikh+aVsOOBruODkOODg+ODleOCoeODvOOCkuS9v+OBhueJiFxuXG4gIC8vIHZlcnRpY2VzXG5cbiAgY29uc3QgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAwLjAsIDEuMCwgMC4wLCAxLjAsXG4gICAgMS4wLCAtMS4wLCAwLjAsIDEuMCxcbiAgICAtMS4wLCAtMS4wLCAwLjAsIDEuMCxcbiAgXSk7XG5cbiAgY29uc3QgdmVydGV4QnVmZmVyID0gZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7XG4gICAgc2l6ZTogdmVydGljZXMuYnl0ZUxlbmd0aCwgLy8gbWFrZSBpdCBiaWcgZW5vdWdoIHRvIHN0b3JlIHZlcnRpY2VzIGluXG4gICAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlLlZFUlRFWCB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNULFxuICB9KTtcbiAgZGV2aWNlLnF1ZXVlLndyaXRlQnVmZmVyKHZlcnRleEJ1ZmZlciwgMCwgdmVydGljZXMsIDAsIHZlcnRpY2VzLmxlbmd0aCk7XG5cbiAgLy8gY29sb3JzXG5cbiAgY29uc3QgY29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgMS4wLCAwLjAsIDAuMCwgMS4wLFxuICAgIDAuMCwgMS4wLCAwLjAsIDEuMCxcbiAgICAwLjAsIDAuMCwgMS4wLCAxLjAsXG4gIF0pO1xuXG4gIGNvbnN0IGNvbG9yQnVmZmVyID0gZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7XG4gICAgc2l6ZTogY29sb3JzLmJ5dGVMZW5ndGgsIC8vIG1ha2UgaXQgYmlnIGVub3VnaCB0byBzdG9yZSB2ZXJ0aWNlcyBpblxuICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5WRVJURVggfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVCxcbiAgfSk7XG4gIGRldmljZS5xdWV1ZS53cml0ZUJ1ZmZlcihjb2xvckJ1ZmZlciwgMCwgY29sb3JzLCAwLCBjb2xvcnMubGVuZ3RoKTtcblxuICBjb25zdCB2ZXJ0ZXhCdWZmZXJzOiBHUFVWZXJ0ZXhCdWZmZXJMYXlvdXRbXSA9IFtcbiAgICB7XG4gICAgICAvLyBwb3NpdGlvblxuICAgICAgYXR0cmlidXRlczogW1xuICAgICAgICB7XG4gICAgICAgICAgc2hhZGVyTG9jYXRpb246IDAsXG4gICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgIGZvcm1hdDogJ2Zsb2F0MzJ4NCcsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgYXJyYXlTdHJpZGU6IDE2LFxuICAgICAgc3RlcE1vZGU6ICd2ZXJ0ZXgnLFxuICAgIH0sXG4gICAge1xuICAgICAgLy8gY29sb3JcbiAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHNoYWRlckxvY2F0aW9uOiAxLCAvLyBwb3NpdGlvblxuICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICBmb3JtYXQ6ICdmbG9hdDMyeDQnLFxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgYXJyYXlTdHJpZGU6IDE2LFxuICAgICAgc3RlcE1vZGU6ICd2ZXJ0ZXgnLFxuICAgIH1cbiAgXTtcblxuICAvLyDjgZPjgZPjgYvjgonjg5HjgqTjg5fjg6njgqTjg7Pjga7oqK3lrppcblxuICBjb25zdCBwaXBlbGluZURlc2NyaXB0b3I6IEdQVVJlbmRlclBpcGVsaW5lRGVzY3JpcHRvciA9IHtcbiAgICB2ZXJ0ZXg6IHtcbiAgICAgIG1vZHVsZTogc2hhZGVyTW9kdWxlLFxuICAgICAgZW50cnlQb2ludDogJ3ZlcnRleF9tYWluJyxcbiAgICAgIGJ1ZmZlcnM6IHZlcnRleEJ1ZmZlcnMsXG4gICAgfSxcbiAgICBmcmFnbWVudDoge1xuICAgICAgbW9kdWxlOiBzaGFkZXJNb2R1bGUsXG4gICAgICBlbnRyeVBvaW50OiAnZnJhZ21lbnRfbWFpbicsXG4gICAgICB0YXJnZXRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBmb3JtYXQ6IG5hdmlnYXRvci5ncHUuZ2V0UHJlZmVycmVkQ2FudmFzRm9ybWF0KCksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgcHJpbWl0aXZlOiB7XG4gICAgICB0b3BvbG9neTogJ3RyaWFuZ2xlLWxpc3QnLFxuICAgIH0sXG4gICAgbGF5b3V0OiAnYXV0bycsXG4gIH07XG5cbiAgY29uc3QgcmVuZGVyUGlwZWxpbmUgPSBkZXZpY2UuY3JlYXRlUmVuZGVyUGlwZWxpbmUocGlwZWxpbmVEZXNjcmlwdG9yKTtcblxuICBjb25zdCBjb21tYW5kRW5jb2RlciA9IGRldmljZS5jcmVhdGVDb21tYW5kRW5jb2RlcigpO1xuXG4gIC8vIOiDjOaZr+iJslxuICAvLyBjb25zdCBjbGVhckNvbG9yID0geyByOiAwLjAsIGc6IDAuNSwgYjogMS4wLCBhOiAxLjAgfTtcbiAgY29uc3QgY2xlYXJDb2xvciA9IHsgcjogMC4wLCBnOiAwLjAsIGI6IDAuMCwgYTogMS4wIH07XG5cbiAgY29uc3QgcmVuZGVyUGFzc0Rlc2NyaXB0b3I6IEdQVVJlbmRlclBhc3NEZXNjcmlwdG9yID0ge1xuICAgIGNvbG9yQXR0YWNobWVudHM6IFtcbiAgICAgIHtcbiAgICAgICAgY2xlYXJWYWx1ZTogY2xlYXJDb2xvcixcbiAgICAgICAgbG9hZE9wOiAnY2xlYXInLFxuICAgICAgICBzdG9yZU9wOiAnc3RvcmUnLFxuICAgICAgICB2aWV3OiBjdHguZ2V0Q3VycmVudFRleHR1cmUoKS5jcmVhdGVWaWV3KCksXG4gICAgICB9LFxuICAgIF0sXG4gIH07XG5cbiAgY29uc3QgcGFzc0VuY29kZXIgPSBjb21tYW5kRW5jb2Rlci5iZWdpblJlbmRlclBhc3MocmVuZGVyUGFzc0Rlc2NyaXB0b3IpO1xuXG4gIHBhc3NFbmNvZGVyLnNldFBpcGVsaW5lKHJlbmRlclBpcGVsaW5lKTtcbiAgLy8gc2xvdCDjgpLliIbjgZHjgabjg5Djg4Pjg5XjgqHjgpLoqK3lrprjgZnjgotcbiAgcGFzc0VuY29kZXIuc2V0VmVydGV4QnVmZmVyKDAsIHZlcnRleEJ1ZmZlcik7XG4gIHBhc3NFbmNvZGVyLnNldFZlcnRleEJ1ZmZlcigxLCBjb2xvckJ1ZmZlcik7XG4gIHBhc3NFbmNvZGVyLmRyYXcoMyk7XG4gIHBhc3NFbmNvZGVyLmVuZCgpO1xuXG4gIGRldmljZS5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRFbmNvZGVyLmZpbmlzaCgpXSk7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgYFxuc3RydWN0IFZlcnRleE91dCB7XG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbiA6IHZlYzRmLFxuICBAbG9jYXRpb24oMCkgY29sb3IgOiB2ZWM0ZlxufVxuXG5AdmVydGV4XG5mbiB2ZXJ0ZXhfbWFpbihAbG9jYXRpb24oMCkgcG9zaXRpb246IHZlYzRmLFxuICAgICAgICAgICAgICAgQGxvY2F0aW9uKDEpIGNvbG9yOiB2ZWM0ZikgLT4gVmVydGV4T3V0XG57XG4gIHZhciBvdXRwdXQgOiBWZXJ0ZXhPdXQ7XG4gIG91dHB1dC5wb3NpdGlvbiA9IHZlYzQocG9zaXRpb24ueHl6ICogMC41LCBwb3NpdGlvbi53KTtcbiAgb3V0cHV0LmNvbG9yID0gY29sb3I7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbkBmcmFnbWVudFxuZm4gZnJhZ21lbnRfbWFpbihmcmFnRGF0YTogVmVydGV4T3V0KSAtPiBAbG9jYXRpb24oMCkgdmVjNGZcbntcbiAgcmV0dXJuIGZyYWdEYXRhLmNvbG9yO1xufVxuYDtcbiJdLCJuYW1lcyI6WyJwYWdlcyIsIm9yaWdpbmFsIiwiY29uc29sZSIsImxvZyIsImN2cyIsImRvY3VtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiY3R4IiwiZ2V0Q29udGV4dCIsImFkYXB0ZXIiLCJuYXZpZ2F0b3IiLCJncHUiLCJyZXF1ZXN0QWRhcHRlciIsImRldmljZSIsInJlcXVlc3REZXZpY2UiLCJzaGFkZXJNb2R1bGUiLCJjcmVhdGVTaGFkZXJNb2R1bGUiLCJjb2RlIiwiY29uZmlndXJlIiwiZm9ybWF0IiwiZ2V0UHJlZmVycmVkQ2FudmFzRm9ybWF0IiwiYWxwaGFNb2RlIiwidmVydGljZXMiLCJGbG9hdDMyQXJyYXkiLCJ2ZXJ0ZXhCdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJzaXplIiwiYnl0ZUxlbmd0aCIsInVzYWdlIiwiR1BVQnVmZmVyVXNhZ2UiLCJWRVJURVgiLCJDT1BZX0RTVCIsInF1ZXVlIiwid3JpdGVCdWZmZXIiLCJsZW5ndGgiLCJwaXBlbGluZURlc2NyaXB0b3IiLCJ2ZXJ0ZXgiLCJtb2R1bGUiLCJlbnRyeVBvaW50IiwiYnVmZmVycyIsImF0dHJpYnV0ZXMiLCJzaGFkZXJMb2NhdGlvbiIsIm9mZnNldCIsImFycmF5U3RyaWRlIiwic3RlcE1vZGUiLCJmcmFnbWVudCIsInRhcmdldHMiLCJwcmltaXRpdmUiLCJ0b3BvbG9neSIsImxheW91dCIsInJlbmRlclBpcGVsaW5lIiwiY3JlYXRlUmVuZGVyUGlwZWxpbmUiLCJjb21tYW5kRW5jb2RlciIsImNyZWF0ZUNvbW1hbmRFbmNvZGVyIiwicmVuZGVyUGFzc0Rlc2NyaXB0b3IiLCJjb2xvckF0dGFjaG1lbnRzIiwiY2xlYXJWYWx1ZSIsInIiLCJnIiwiYiIsImEiLCJsb2FkT3AiLCJzdG9yZU9wIiwidmlldyIsImdldEN1cnJlbnRUZXh0dXJlIiwiY3JlYXRlVmlldyIsInBhc3NFbmNvZGVyIiwiYmVnaW5SZW5kZXJQYXNzIiwic2V0UGlwZWxpbmUiLCJzZXRWZXJ0ZXhCdWZmZXIiLCJkcmF3IiwiZW5kIiwic3VibWl0IiwiZmluaXNoIiwiZGVtbzAxIiwiY29sb3JzIiwiY29sb3JCdWZmZXIiLCJpbmRleCIsInVsIiwicGFnZSIsImhyZWYiLCJ0ZXh0Q29udGVudCIsIndpbmRvdyIsIm9ubG9hZCIsIlVSTCIsImxvY2F0aW9uIiwic2VhcmNoUGFyYW1zIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==